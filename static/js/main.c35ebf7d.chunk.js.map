{"version":3,"sources":["reducer.js","context.js","data.js","Navbar.js","CartItem.js","CartContainer.js","App.js","index.js"],"names":["reducer","state","action","type","cart","filter","cartItem","id","payload","reduce","cartTotal","amount","totalItemPrice","price","total","parseFloat","toFixed","loading","tempCart","map","Error","AppContext","React","createContext","defaultState","title","img","AppProvider","children","useReducer","dispatch","useEffect","Provider","value","emptyCart","deleteItem","changeAmount","useGlobalContext","useContext","Navbar","className","xmlns","viewBox","d","CartItem","src","alt","onClick","CartContainer","length","item","App","ReactDOM","render","StrictMode","document","getElementById"],"mappings":"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","file":"static/js/main.c35ebf7d.chunk.js","sourcesContent":["const reducer = (state, action) => {\r\n  if (action.type === \"CLEAR_CART\") {\r\n    return { ...state, cart: [] };\r\n  }\r\n\r\n  if (action.type === \"DELETE_ITEM\") {\r\n    return {\r\n      ...state,\r\n      cart: state.cart.filter((cartItem) => cartItem.id !== action.payload),\r\n    };\r\n  }\r\n\r\n  // if (action.type === \"INCREASE_AMOUNT\") {\r\n  //   let tempCart = state.cart.map((cartItem) => {\r\n  //     if (cartItem.id === action.payload) {\r\n  //       return { ...cartItem, amount: cartItem.amount + 1 };\r\n  //     }\r\n  //     return cartItem;\r\n  //   });\r\n  //   return { ...state, cart: tempCart };\r\n  // }\r\n\r\n  // if (action.type === \"DECREASE_AMOUNT\") {\r\n  //   let temporaryCart = state.cart\r\n  //     .map((cartItem) => {\r\n  //       if (cartItem.id === action.payload) {\r\n  //         return { ...cartItem, amount: cartItem.amount - 1 };\r\n  //       }\r\n  //       return cartItem;\r\n  //     })\r\n  //     .filter((cartItem) => cartItem.amount !== 0); // taking out item whose amount is 0 from the list\r\n\r\n  //   return { ...state, cart: temporaryCart };\r\n  // }\r\n\r\n  if (action.type === \"TOTAL_ITEMS\") {\r\n    let { amount, total } = state.cart.reduce(\r\n      (cartTotal, cartItem) => {\r\n        const { amount, price } = cartItem;\r\n        const totalItemPrice = amount * price;\r\n\r\n        cartTotal.total += totalItemPrice;\r\n        cartTotal.amount += amount;\r\n        return cartTotal;\r\n      },\r\n      {\r\n        amount: 0,\r\n        total: 0,\r\n      }\r\n    );\r\n\r\n    total = parseFloat(total.toFixed(2)); // return total price figure to 2 decimal place\r\n\r\n    return { ...state, total, amount };\r\n  }\r\n\r\n  if (action.type === \"PAGE_LOADING\") {\r\n    return { ...state, loading: true };\r\n  }\r\n\r\n  if (action.type === \"DISPLAY_DATA\") {\r\n    return { ...state, loading: false, cart: action.payload };\r\n  }\r\n\r\n  // handling both increase and decrease functionalities in one check\r\n  if (action.type === \"CHANGE_AMOUNT\") {\r\n    let tempCart = state.cart\r\n      .map((cartItem) => {\r\n        if (cartItem.id === action.payload.id) {\r\n          if (action.payload.type === \"increase\") {\r\n            return { ...cartItem, amount: cartItem.amount + 1 };\r\n          }\r\n          if (action.payload.type === \"decrease\") {\r\n            return { ...cartItem, amount: cartItem.amount - 1 };\r\n          }\r\n        }\r\n        return cartItem;\r\n      })\r\n      .filter((cartItem) => cartItem.amount !== 0);\r\n\r\n    return { ...state, cart: tempCart };\r\n  }\r\n\r\n  throw new Error(\"no matching action type found\");\r\n};\r\n\r\nexport default reducer;\r\n","import React, { useContext, useReducer, useEffect } from \"react\";\nimport { cartItems } from \"./data\";\nimport reducer from \"./reducer\";\n// ATTENTION!!!!!!!!!!\n// I SWITCHED TO PERMANENT DOMAIN\nconst url = \"https://course-api.com/react-useReducer-cart-project\";\nconst AppContext = React.createContext();\n\nconst defaultState = {\n  loading: false,\n  cart: cartItems,\n  amount: 0,\n  total: 0,\n};\n\nconst AppProvider = ({ children }) => {\n  const [state, dispatch] = useReducer(reducer, defaultState);\n\n  const emptyCart = () => {\n    dispatch({ type: \"CLEAR_CART\" });\n  };\n\n  const deleteItem = (id) => {\n    dispatch({ type: \"DELETE_ITEM\", payload: id });\n  };\n\n  // const increaseAmount = (id) => {\n  //   dispatch({ type: \"INCREASE_AMOUNT\", payload: id });\n  // };\n\n  // const decreaseAmount = (id) => {\n  //   dispatch({ type: \"DECREASE_AMOUNT\", payload: id });\n  // };\n\n  // const fetchData = async () => {\n  //   dispatch({ type: \"PAGE_LOADING\" });\n  //   const response = await fetch(url);\n  //   const cart = await response.json();\n  //   dispatch({ type: \"DISPLAY_DATA\", payload: cart });\n  // };\n\n  const changeAmount = (id, type) => {\n    dispatch({ type: \"CHANGE_AMOUNT\", payload: { id, type } });\n  };\n\n  // useEffect(() => {\n  //   fetchData();\n  // }, []);\n\n  useEffect(() => {\n    dispatch({ type: \"TOTAL_ITEMS\" });\n  }, [state.cart]);\n\n  return (\n    <AppContext.Provider\n      value={{\n        ...state,\n        emptyCart,\n        deleteItem,\n        // increaseAmount,\n        // decreaseAmount,\n        changeAmount,\n      }}\n    >\n      {children}\n    </AppContext.Provider>\n  );\n};\n// make sure use\nexport const useGlobalContext = () => {\n  return useContext(AppContext);\n};\n\nexport { AppContext, AppProvider };\n","export const cartItems = [\n  {\n    id: 1,\n    title: \"Samsung Galaxy S7\",\n    price: 599.99,\n    img:\n      \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368215/phone-2_ohtt5s.png\",\n    amount: 1,\n  },\n  {\n    id: 2,\n    title: \"google pixel \",\n    price: 499.99,\n    img:\n      \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583371867/phone-1_gvesln.png\",\n    amount: 1,\n  },\n  {\n    id: 3,\n    title: \"Xiaomi Redmi Note 2\",\n    price: 699.99,\n    img:\n      \"https://res.cloudinary.com/diqqf3eq2/image/upload/v1583368224/phone-3_h2s6fo.png\",\n    amount: 1,\n  },\n];\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nimport { CgProfile } from \"react-icons/cg\";\n\nconst Navbar = () => {\n  const { amount } = useGlobalContext();\n\n  return (\n    <nav>\n      <div className=\"nav-center\">\n        <h3>DigiCart</h3>\n        <div className=\"nav-container\">\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M16 6v2h2l2 12H0L2 8h2V6a6 6 0 1 1 12 0zm-2 0a4 4 0 1 0-8 0v2h8V6zM4 10v2h2v-2H4zm10 0v2h2v-2h-2z\" />\n          </svg>\n          <div className=\"amount-container\">\n            <p className=\"total-amount\">{amount}</p>\n          </div>\n          <div className=\"user-profile\">\n            <CgProfile className=\"user-icon\" />\n            <h5>Logged In</h5>\n          </div>\n        </div>\n      </div>\n    </nav>\n  );\n};\n\nexport default Navbar;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\nconst CartItem = ({ id, img, title, price, amount }) => {\n  const {\n    deleteItem,\n    // increaseAmount,\n    // decreaseAmount,\n    changeAmount,\n  } = useGlobalContext();\n\n  return (\n    <article className=\"cart-item\">\n      <img src={img} alt={title} />\n      <div>\n        <h4>{title}</h4>\n        <h4 className=\"item-price\">${price}</h4>\n        {/* remove button */}\n        <button className=\"remove-btn\" onClick={() => deleteItem(id)}>\n          remove\n        </button>\n      </div>\n      <div>\n        {/* increase amount */}\n        <button\n          className=\"amount-btn\"\n          onClick={() => changeAmount(id, \"increase\")}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M10.707 7.05L10 6.343 4.343 12l1.414 1.414L10 9.172l4.243 4.242L15.657 12z\" />\n          </svg>\n        </button>\n        {/* amount */}\n        <p className=\"amount\">{amount}</p>\n        {/* decrease amount */}\n        <button\n          className=\"amount-btn\"\n          onClick={() => changeAmount(id, \"decrease\")}\n        >\n          <svg xmlns=\"http://www.w3.org/2000/svg\" viewBox=\"0 0 20 20\">\n            <path d=\"M9.293 12.95l.707.707L15.657 8l-1.414-1.414L10 10.828 5.757 6.586 4.343 8z\" />\n          </svg>\n        </button>\n      </div>\n    </article>\n  );\n};\n\nexport default CartItem;\n","import React from \"react\";\nimport CartItem from \"./CartItem\";\nimport { useGlobalContext } from \"./context\";\n\nconst CartContainer = () => {\n  const { cart, total, emptyCart } = useGlobalContext();\n  if (cart.length === 0) {\n    return (\n      <section className=\"cart\">\n        {/* cart header */}\n        <header>\n          <h3>Content</h3>\n          <h4 className=\"empty-cart\">is currently empty</h4>\n        </header>\n      </section>\n    );\n  }\n  return (\n    <section className=\"cart\">\n      {/* cart header */}\n      <header>\n        <h3>Content</h3>\n      </header>\n      {/* cart items */}\n      <div>\n        {cart.map((item) => {\n          return <CartItem key={item.id} {...item} />;\n        })}\n      </div>\n      {/* cart footer */}\n      <footer>\n        <hr />\n        <div className=\"cart-total\">\n          <h4>\n            total <span>${total}</span>\n          </h4>\n        </div>\n        <button className=\"btn clear-btn\" onClick={emptyCart}>\n          empty cart\n        </button>\n      </footer>\n    </section>\n  );\n};\n\nexport default CartContainer;\n","import React from \"react\";\nimport { useGlobalContext } from \"./context\";\n\n// components\nimport Navbar from \"./Navbar\";\nimport CartContainer from \"./CartContainer\";\n// items\n\nfunction App() {\n  const { loading } = useGlobalContext();\n\n  if (loading) {\n    return (\n      <div className=\"loading\">\n        <h1 className=\"loading\">Loading Content...</h1>\n      </div>\n    );\n  }\n  return (\n    <main>\n      <Navbar />\n      <CartContainer />\n    </main>\n  );\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App';\nimport { AppProvider } from './context';\nReactDOM.render(\n  <React.StrictMode>\n    <AppProvider>\n      <App />\n    </AppProvider>\n  </React.StrictMode>,\n  document.getElementById('root')\n);\n"],"sourceRoot":""}